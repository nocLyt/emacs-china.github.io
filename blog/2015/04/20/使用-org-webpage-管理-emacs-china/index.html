<!DOCTYPE html>
<html lang="en">
<head>
  <title>使用 org-webpage 管理 emacs-china - EMACS-CHINA</title>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta name="author" content="Feng Shu" />
  <meta name="keywords" content="org-mode" />
  <style>
   #ds-thread #ds-reset .ds-comment-body p {color: #ffffff;}
   #disqus_thread a {color: #00ffff;}
  </style>
  <link rel="stylesheet" media="screen" href="http://emacs-china.github.io/media/css/font.css" rel="stylesheet" type="text/css"/>
  <link rel="stylesheet" href="http://emacs-china.github.io/media/css/main.css" type="text/css">
  <link rel="stylesheet" href="http://emacs-china.github.io/media/css/kdComment.css" type="text/css">
  <script type="text/javascript"
          src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
</head>

  <body class="container">
    <div>
      <header class="masthead">
        <h1 class="masthead-title"><a href="http://emacs-china.github.io/">EMACS-CHINA</a></h1>
        <p>=============&gt;集思广益</p>
        <ul>
          <li><a href="http://emacs-china.github.io/blog/">Blog</a></li>
          <li><a href="http://emacs-china.github.io/tags/">Tags</a></li>
          <li><a href="http://emacs-china.github.io/authors/">Authors</a></li>
          <li><a href="http://emacs-china.github.io/about/">About</a></li>
          <li><a href="https://github.com/emacs-china">Github</a></li>
          <li><a href="http://emacs-china.github.io/rss.xml">RSS</a></li>
        </ul>
        <form method="get" id="searchform" action="http://www.google.com/search">
          <input type="text" class="field" name="q" id="s" placeholder="Search">
          <input type="hidden" name="as_sitesearch" value="emacs-china.github.io">
        </form>
      </header>
    </div>

<div>
<div class="post">
<h1 class="title">使用 org-webpage 管理 emacs-china</h1>
<div id="table-of-contents">
<h2>&#30446;&#24405;</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgheadline1">前言</a></li>
<li><a href="#orgheadline2">安装 org-webpage 和 owp-theme-emacslove</a></li>
<li><a href="#orgheadline3">搭建 emacs-china 本地开发环境</a></li>
<li><a href="#orgheadline4">使用</a></li>
</ul>
</div>
</div>
<p class="center">
<a href="https://github.com/emacs-china/emacs-china.github.io/edit/source/blog/FengShu/manager-emacs-china-with-org-webpage.org">点我修改</a><br/>
</p>

<div id="outline-container-orgheadline1" class="outline-2">
<h2 id="orgheadline1">前言</h2>
<div class="outline-text-2" id="text-orgheadline1">
<p>
<a href="http://emacs-china.org/">emacs-china</a> 默认使用 <a href="https://github.com/kelvinh/org-page">org-page</a> 来生成静态网站，用户也可以
使用<a href="https://github.com/tumashu/org-webpage"> org-webpage</a> 来搭建 emacs-china 本地开发环境，
用于添加和测试 new-post。
</p>

<p>
注： org-webpage 是 org-page 的一个fork版本。
</p>
</div>
</div>

<div id="outline-container-orgheadline2" class="outline-2">
<h2 id="orgheadline2">安装 org-webpage 和 owp-theme-emacslove</h2>
<div class="outline-text-2" id="text-orgheadline2">
<p>
org-webpage 和 owp-theme-emacslove 已经提交到 melpa，同学可以通过下面几个步骤来安装：
</p>
<ol class="org-ol">
<li>配置melpa源，参考：<a href="http://melpa.org/#/getting-started">http://melpa.org/#/getting-started</a> 。</li>
<li>M-x package-install RET org-webpage RET</li>
<li>M-x package-install RET owp-theme-emacslove RET</li>
</ol>
</div>
</div>

<div id="outline-container-orgheadline3" class="outline-2">
<h2 id="orgheadline3">搭建 emacs-china 本地开发环境</h2>
<div class="outline-text-2" id="text-orgheadline3">
<p>
emacs-china 已经包含了 org-webpage 对应的配置，所以同学只需要做如下工作:
</p>

<p>
(1) 下载 emacs-china.github.io 代码
</p>

<pre class="example">
cd ~/.emacs.d
git clone https://github.com/emacs-china/emacs-china.github.io.git
</pre>

<p>
(2) 切换到 emacs-china.github.io 的 source 分支
</p>

<pre class="example">
cd ~/.emacs.d/emacs-china.github.io
git fetch origin
git branch source origin/source
git checkout source
</pre>

<p>
(3) 在 ~/.emacs 中添加并 <b>执行</b> 如下代码：
</p>

<div class="org-src-container">

<pre class="src src-emacs-lisp">(<span style="color: #00ffff; font-weight: bold;">require</span> '<span style="color: #7fffd4; font-weight: bold;">org-webpage</span>)
(<span style="color: #00ffff; font-weight: bold;">require</span> '<span style="color: #7fffd4; font-weight: bold;">emacs-china-utils</span>)
</pre>
</div>

<p>
注：除了 "~/.emacs.d" 目录, 同学也可以使用其它目录，只要确保 emacs-china.github.io/ 和
 owp-theme-emacslove/ 两个子目录包含到 emacs 搜索路径中（load-path）就可以了。
</p>
</div>
</div>

<div id="outline-container-orgheadline4" class="outline-2">
<h2 id="orgheadline4">使用</h2>
<div class="outline-text-2" id="text-orgheadline4">
<p>
当上述工作完成后， 基于 org-webpage 的 emacs-china 本地开发环境就搭建完成，
用户可以通过命令：
</p>

<pre class="example">
M-x owp/new-post
</pre>

<p>
来新建post，并通过命令：
</p>

<pre class="example">
M-x owp/do-publication
</pre>

<p>
来测试或者上传生成的网站。
</p>

<p>
注：如果用户想要了解 org-webpage 更多的信息，请参考：<a href="http://tumashu.github.io/org-webpage/">http://tumashu.github.io/org-webpage/</a> 相关文档。
</p>
</div>
</div>

</div>
</div>
<div>
  <div class="post-meta">
    <span title="post date" class="post-info">2015-04-20</span>
    <span title="last modification date" class="post-info">2015-04-24</span>
    <span title="tags" class="post-info"><a href="http://emacs-china.github.io/Tags/org-mode/">org-mode</a></span>
    <span title="author" class="post-info">Feng Shu</span>
  </div>
  <script src="http://emacs-china.github.io/media/js/jquery-2.1.3.min.js"></script>
  <section>
    <h1>Comments</h1>
    <div id="comment-wrap">
      <a class="disqus_label">使用Disqus评论</a>
      <a class="ds-label">使用多说评论</a>
    </ul>
    <div id="disqus_thread"></div>
    <script type="text/javascript">
     //var disqus_developer = 1;
     var preempt_signal=false;
     var disqus_identifier = "/blog/2015/04/20/使用-org-webpage-管理-emacs-china/";
     var disqus_url = "http://emacs-china.github.io/blog/2015/04/20/使用-org-webpage-管理-emacs-china/";
     var disqus_shortname = 'emacs-china';
     /* * * DON'T EDIT BELOW THIS LINE * * */
     (function() {
       var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
       dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
       (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
       $('#disqus_thread').css('display','none');
     })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    <div class="ds-thread"></div>
    <script type="text/javascript">
     var duoshuoQuery = {short_name:'emacs-china'};
     (function() {
       var ds = document.createElement('script');
       ds.type = 'text/javascript';ds.async = true;
       ds.src = 'http://static.duoshuo.com/embed.js';
       ds.charset = 'UTF-8';
       (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
       $('.ds-thread').css('display','block');
     })();
    </script>
  </section>
  <script src="http://emacs-china.github.io/media/js/kdComment.js"></script>
  <div class="footer">
    <p>Generated by <a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.x(<a href="http://orgmode.org">Org mode</a> 8.x)</p>
    <p>
      Copyright &copy; 2014 - <span id="footerYear"></span> <a href="mailto:tumashu &lt;at&gt; 163 &lt;dot&gt; com">Feng Shu</a>
      &nbsp;&nbsp;-&nbsp;&nbsp;
      Powered by <a href="https://github.com/tumashu/org-webpage" target="_blank">org-webpage</a><br/>
      Themed with <a href="https://github.com/kuangdash/owp_emacs_love" target="_blank">emacs_love</a>
      <script type="text/javascript">document.getElementById("footerYear").innerHTML = (new Date()).getFullYear();</script>
    </p>
  </div>
    </div>

  </body>
</html>
